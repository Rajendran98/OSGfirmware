<div class="container-fluid">
    <div class="row">
        <div class="col-12">
            <p class="tyt"><span>Menu</span> > <span>Fireware Manager</span> > <span>Upload Firmware Version</span> > <span>Customer Ashok Leyland</span></p>
            <mat-divider></mat-divider>
        </div>
    </div>
</div>
<p class="tyts">Firmware Update Command</p>
<mat-tab-group mat-align-tabs="end" selectedIndex="{{this.id}}" (selectedTabChange)="changeTab($event)">
    <mat-tab label="Single Device Search"> 
        <mat-card>
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-7 cleft">
                        <p>Single device search option is to handle upgradation of the searched device</p>
                        <div class="example-container" >
                        <mat-form-field style="width: 80%;" appearance="outline">
                           
                            <input style="text-indent: 2em;" matInput (keyup)="applyFilter($event)" placeholder="Search Device" #input>  
                             <mat-icon style="color: gray;" matPrefix>search</mat-icon>
                           
                        </mat-form-field>
                        <button mat-raised-button class="btn">SUBMIT</button>
                        
                    </div>
                    </div>
                    <div class="col-sm-5">
                        <p>UPDATE VERSION :</p>
                        <mat-radio-group color="primary" aria-label="Select an option">
                            <mat-radio-button value="1">JAVA</mat-radio-button>
                            <mat-radio-button value="2">C</mat-radio-button>
                          </mat-radio-group>
                          <mat-form-field style="width: 100px; margin-left: 10px;" appearance="standard">
                            <mat-select>
                              <mat-option value="one"> VERSION ONE</mat-option>
                              <mat-option value="two">VERSION TWO</mat-option>
                            </mat-select>
                          </mat-form-field>  
                        <button mat-raised-button class="btn1">FLASH FIRMWARE</button>
                          
                    </div>
                </div>
            </div>        
            

        </mat-card>
    </mat-tab>
    <mat-tab label="Multiple Device Update"> 
        <mat-card class="multi">
            <div *ngIf="this.id == '1' ">
              <div class="pack">
                <p>Multiple Device Update is to handle upgrades of multiple options under one go.</p>
                <p>To upload the device list click the device upload button to upload an excel sheet.</p>
                
              </div>
                <p class="back">Note : The format for the upload is to list all device in one column with header title as <b>Device ID</b></p>
                <button mat-raised-button (click)="fileInput.click()" class="one">
                  <mat-icon class="con1">file_upload</mat-icon>
                  Device Upload
               
              </button>
              <input #fileInput  type="file" name="files"  accept=".xlsx,.csv" id="myfile" (change)="postMethod($event.target.files)" [(ngModel)]="file" style="display:none;" />
            </div>
        </mat-card>    
    </mat-tab>

</mat-tab-group>

<div *ngIf="this.id == '0';" >
    <table mat-table [dataSource]="dataSource" matSort  class="mat-elevation-z8">

      <ng-container matColumnDef="select">
        <th mat-header-cell *matHeaderCellDef >    <mat-checkbox color="primary"></mat-checkbox></th>
        <td mat-cell *matCellDef="let element">    <mat-checkbox color="primary"></mat-checkbox> </td>
      </ng-container>
 
      
        <ng-container matColumnDef="GPSDeviceID">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
          <td mat-cell *matCellDef="let element"><a style=" text-decoration-line: underline;color: #005F9E;">  {{element.GPSDeviceID}} </a></td>
        </ng-container>
  
    
        <ng-container matColumnDef="Device_Type">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> DEVICE<br>TYPE </th>
          <td mat-cell *matCellDef="let element"> {{element.Device_Type}} </td>
        </ng-container>
    
        <ng-container matColumnDef="cn">
          <th mat-header-cell *matHeaderCellDef > CUSTOMER<br>NAME </th>
          <td mat-cell *matCellDef="let element">  </td>
        </ng-container>
      
        <ng-container matColumnDef="Network_Provider">
          <th mat-header-cell *matHeaderCellDef> NETWORK<br>PROVIDER </th>
          <td mat-cell *matCellDef="let element"> {{element.Network_Provider}} </td>
        </ng-container>

        <ng-container matColumnDef="Mobile_Number">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> MOBILE NO. </th>
          <td mat-cell *matCellDef="let element"> {{element.Mobile_Number}}  </td>
        </ng-container>

        <ng-container matColumnDef="mn2">
          <th mat-header-cell *matHeaderCellDef> MOBILE NO. 2 </th>
          <td mat-cell *matCellDef="let element">  </td>
        </ng-container>

        <ng-container matColumnDef="Subcription_StartDate">
          <th mat-header-cell *matHeaderCellDef> SUBSCRIPTION<br>START DATE </th>
          <td mat-cell *matCellDef="let element"> {{element.Subcription_StartDate | date:'dd-MM-yyyy'}} </td>
        </ng-container>

        <ng-container matColumnDef="Subcription_EndDate">
          <th mat-header-cell *matHeaderCellDef> SUBSCRIPTION<br>END DATE </th>
          <td mat-cell *matCellDef="let element"> {{element.Subcription_EndDate | date:'dd-MM-yyyy'}} </td>
        </ng-container>

        <ng-container matColumnDef="Vehicle_Type">
          <th mat-header-cell *matHeaderCellDef> VECHICLE<br>TYPE NAME </th>
          <td mat-cell *matCellDef="let element"> {{element.Vehicle_Type}} </td>
        </ng-container>
        <ng-container matColumnDef="Vehicle_Model">
          <th mat-header-cell *matHeaderCellDef> MODEL </th>
          <td mat-cell *matCellDef="let element"> {{element.Vehicle_Model}} </td>
        </ng-container>
        <ng-container matColumnDef="ccv">
          <th mat-header-cell *matHeaderCellDef> CURRENT<br>C VERSION </th>
          <td mat-cell *matCellDef="let element"> {{element.Device_Type}} </td>
        </ng-container>
        <ng-container matColumnDef="cjv">
          <th mat-header-cell *matHeaderCellDef> CURRENT<br>JAVA VERSION </th>
          <td mat-cell *matCellDef="let element"> {{element.GPSDeviceID}} </td>
        </ng-container>
        <ng-container matColumnDef="ignition">
          <th mat-header-cell *matHeaderCellDef> IGNITION </th>
          <td mat-cell *matCellDef="let element"> {{element.Ignition_Status}} </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

      </table>
      <div *ngIf="this.temp != null">
        <mat-paginator style-paginator [showTotalPages]="4" [length]="dataSource.data.length"
        [pageSize]="8"></mat-paginator>
      </div>
  
      <div *ngIf="this.temp == null">
        <h3 style="color: #666; text-align: center; font-weight: 500;">Records Not found</h3>
      </div>
</div>
